.\" This file was generated with po4a. Translate the source file.
.\" 
.TH UUPDATE 1 "Utilitaires Debian" DEBIAN \"
.SH NOM
uupdate \- met à jour un paquet source depuis une version amont
.SH SYNOPSIS
\fBuupdate\fP [\fIoptions\fP] \fInouvelle_archive_amont\fP [\fIversion\fP]
.br
\fBuupdate\fP [\fIoptions\fP] \fB\-\-patch\fP|\fB\-p\fP \fIfichier_rustine\fP
.SH DESCRIPTION
\fBuupdate\fP modifie une archive source Debian existante pour intégrer une 
mise à jour amont fournie par une rustine ou une archive source 
complète. L'utilitaire doit être invoqué depuis le répertoire de plus haut 
niveau de l'ancien répertoire des sources, et si un nom relatif est donné 
pour la nouvelle archive ou rustine, la recherche démarrera par le 
répertoire d'exécution puis relativement au répertoire parent de 
l'arborescence des sources. (Par exemple, si le fichier changelog est 
\fI/usr/local/src/toto/toto\-1.1/debian/changelog\fP, alors l'archive ou la 
rustine sera recherchée relativement à \fI/usr/local/src/toto\fP.) Notez que 
l'archive ou la rustine ne peuvent pas se trouver dans l'arborescence des 
sources elle\-même. Des détails complets sur ce que le code fait sont donnés 
plus bas.
.PP
Les types de fichier supportés pour le code source sont les archives 
\&\fI.tar.gz\fP, \fI.tar.bz2\fP, \fI.tar.Z\fP, \fI.tgz\fP, \fI.tar\fP et \fI.zip\fP. Les types 
de fichier pour les rustines sont soit non compressés, soit compressés par 
\fBgzip\fP ou \fBbzip2\fP. Le type de fichier est identifié par le nom du fichier, 
qui doit donc utiliser un suffixe standard.
.PP
\fBuupdate\fP est en règle générale capable de déduire le numéro de version 
grâce au nom de l'archive source (si ce numéro de version ne contient que 
des chiffres et points). En cas d'échec, vous devez spécifier le numéro de 
version explicitement (sans le numéro de livraison Debian, qui sera toujours 
initialisé à 1!). Ceci peut se faire avec les options \fB\-\-upstream\-version\fP 
ou \fB\-v\fP ou, dans le cas d'une archive, en avec un numéro de version à la 
fin du nom de fichier. (La raison d'être de cette deuxième méthode est que 
\fBuupdate\fP peut alors être appelé directement depuis \fBuscan\fP.)
.PP
Comme \fBuupdate\fP utilise \fBdebuild\fP pour nettoyer l'archive actuelle avant 
d'essayer d'appliquer la rustine, il accepte les options \fB\-\-rootcmd\fP ou 
\fB\-r\fP pour spécifier la commande à utiliser pour obtenir les droits 
root. Par défaut, \fBfakeroot\fP est utilisé.
.PP
Lorsqu'une archive est créée, les sources amont vierges doivent être 
utilisées pour créer le fichier \fI.orig.tar.gz\fP tant que possible. Ceci 
signifie qu'une somme MD5 ou tout autre moyen peut être utilisé pour 
facilement comparer les sources amont et la copie Debian de la version 
amont. C'est le comportement par défaut, qui peut être désactivé en 
utilisant l'option \fB\-\-no\-pristine\fP décrite ci\-dessous.
.SH OPTIONS
Voici un résumé de ce qui est expliqué ci\-dessus.
.TP
\fB\-\-upstream\-version \fP\fIversion\fP, \fB\-v \fP\fIversion\fP
Spécifie explicitement le numéro de version du paquet amont.
.TP
\fB\-\-rootcmd\fP \fIcommande\-pour\-devenir\-root\fP, \fB\-r\fP \fIcommande\-pour\-devenir\-root\fP
Spécifie la commande utilisée pour devenir root pour la construction du 
paquet, et qui sera passée à \fBdebuild\fP(1) si elle est spécifiée.
.TP
\fB\-\-pristine\fP, \fB\-u\fP
Traite les sources comme les sources amont vierges et crée un lien 
symbolique vers \fI<paquet>_<version>.orig.tar.gz\fP si 
possible. Cette option est sans importance pour les rustines. C'est le 
comportement par défaut.
.TP
\fB\-\-no\-pristine\fP
Ne cherche pas à créer de lien symbolique 
\fI<paquet>_<version>.orig.tar.gz\fP
.TP
\fB\-\-symlink\fP, \fB\-s\fP
Crée simplement un lien symbolique au lieu de déplacer la nouvelle archive 
amont vers son nouvel emplacement 
\fI<paquet>_<version>.orig.tar.gz\fP, ce qui est le 
comportement par défaut.
.TP
\fB\-\-no\-symlink\fP
Copie l'archive \fI.tar.gz\fP amont au nouvel emplacement au lieu de faire un 
lien symbolique.
.TP
\fB\-\-no\-conf\fP, \fB\-\-noconf\fP
Ne lit aucun fichier de configuration. L'option ne peut être utilisée qu'en 
première position de la ligne de commande.
.TP
\fB\-\-help\fP, \fB\-h\fP
Affiche un message d'aide et quitte avec succès.
.TP
\fB\-\-version\fP
Affiche la version et le copyright, puis quitte avec succès.
.SH "VARIABLES DE CONFIGURATION"
Les deux fichiers de configuration \fI/etc/devscripts.conf\fP et 
\fI~/.devscripts\fP sont évalués dans cet ordre pour placer les variables de 
configuration. Des options de ligne de commande peuvent être utilisées pour 
neutraliser les paramètres des fichiers de configuration. Les variables 
d'environnement sont ignorées à cette fin. Les variables actuellement 
identifiées sont\ :
.TP
\fBUUPDATE_PRISTINE\fP
Si elle est positionnée à «\ no\ », alors c'est comme si l'option 
\fB\-\-no\-pristine\fP était utilisée.
.TP
\fBUUPDATE_SYMLINK_ORIG\fP
Si elle est positionnée à «\ no\ », alors c'est comme si l'option 
\fB\-\-no\-symlink\fP était utilisée.
.TP
\fBUUPDATE_ROOTCMD\fP
Équivaut à utiliser l'option \fB\-\-rootcmd\fP.
.SH "ACTIONS EFFECTUÉES SUR L'ARCHIVE"
.TP
\fBRécupération du numéro de version\fP
À moins que le numéro de version ne soit explicitement fourni, le nom de 
l'archive est analysé pour rechercher une séquence de chiffres séparés par 
des points. Si quelque chose comme ça est trouvé, ce sera utilisé comme 
nouveau numéro de version amont. Sinon, le processus est interrompu.
.TP
\fBCréation de l'archive .orig.tar.gz\fP
Si les options \fB\-\-pristine\fP ou \fB\-u\fP sont utilisées et que l'archive amont 
est une archive \fI.tar.gz\fP ou \fI.tgz\fP, alors elle est copiée directement 
dans \fI<paquet>_<version>.orig.tar.gz\fP.
.TP
\fBDécompression\fP
L'archive est décompressée et placée dans un répertoire avec le nom défini 
dans la charte Debian\ : paquet\-version_amont.orig. Le processus est 
interrompu si ce répertoire existe déjà.
.TP
\fBApplication de la rustine\fP
La rustine («\ patch\ ») \fI.diffs.gz\fP de la version actuelle est appliquée à 
l'archive décompressée. Un message d'avertissement est affiché avant de 
quitter avec une valeur de retour non nulle si la rustine ne s'applique pas 
sans problème ou si elle n'a pas été trouvée. La liste des rustines rejetées 
est également affichée. Le fichier \fIdebian/rules\fP est rendu exécutable et 
tous les fichiers \fI.orig\fP créés par \fBpatch\fP sont détruits.
.TP
\fBMise à jour du fichier changelog\fP
Une entrée du fichier changelog avec la nouvelle version est générée avec le 
texte "New upstream release" (nouvelle version amont).
.SH "ACTIONS EFFECTUÉES SUR LE FICHIER DE RUSTINES"
.TP
\fBRécupération du numéro de version\fP
À moins qu'un numéro de version ne soit explicitement fourni, le fichier de 
rustines est analysé afin de rechercher une séquence de chiffres séparés par 
des points. Si quelque chose comme ça est trouvé, c'est utilisé comme 
nouveau numéro de version amont. Sinon, le processus est interrompu.
.TP
\fBNettoyage de l'arborescence source actuelle\fP
La commande \fBdebuild clean\fP est exécutée dans l'archive de l'architecture 
source Debian pour la nettoyer. Si une option \fB\-r\fP est fournie à  
\fBuupdate\fP, elle est passée à \fBdebuild\fP.
.TP
\fBApplication de la rustine\fP
L'archive source actuelle (\fI.orig.tar.gz\fP) est décompressée et la rustine 
est appliquée aux sources originelles. En cas de succès, le répertoire 
\&\fI.orig\fP est renommé de façon à refléter le nouveau numéro de version, et le 
répertoire source Debian actuel est copié vers un répertoire avec le nouveau 
numéro de version. Sinon, le processus est interrompu. La rustine est 
appliquée à la nouvelle copie du répertoire source Debian. Le fichier 
\fIdebian/rules\fP est rendu exécutable, et tous les fichiers \fI.orig\fP créés 
par \fBpatch\fP sont détruits. En cas de problème lors de l'application de la 
rustine, un avertissement est donné et le programme quittera avec une valeur 
de retour non nulle.
.TP
\fBMise à jour du fichier changelog\fP
Une entrée du fichier changelog avec la nouvelle version est générée avec le 
texte "New upstream release" (nouvelle version amont).
.SH "VOIR AUSSI"
\fBdebuild\fP(1), \fBfakeroot\fP(1), \fBpatch\fP(1), \fIla charte Debian\fP et 
\fBdevscripts.conf\fP(5).
.SH AUTEUR
La version originelle de \fBuupdate\fP a été écrite par Christoph Lameter 
<clameter@debian.org>. Plusieurs modifications et améliorations ont 
été apportées par Julian Gilbey <jdg@debian.org>.
.SH TRADUCTION
Ce document est une traduction, réalisée par Nicolas FRANÇOIS le
21 janvier 2005.

L'équipe de traduction a fait le maximum pour réaliser une adaptation
française de qualité.

La version anglaise la plus à jour de ce document est toujours consultable
en ajoutant l'option «\ \-L\ C\ » à la commande \fBman\fR.

N'hésitez pas à signaler à l'auteur ou à la liste de traduction
.nh
<\fIdebian\-l10\-french@lists.debian.org\fR>,
.hy
selon le cas, toute erreur dans cette page de manuel.
